<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>

    function highlight(str) {
      return `<strong>${str}</strong>`;
    }

    function asyncCall(param, callback) {
      setTimeout(function timeout1 (arg) {
        // arg = 'valami'
        // arg = `<strong>${param}</strong>`
        
        // itt tortenik valami
        // megvan az eredmeny
        let result = `${param} eredmenye`;
        // return eredemny - nem mukdoik, mivel nincs hova visszaadja
        callback(result)
        // return result; // nem mukodik  
      }, 200, highlight(param));
    }

    // callback hell / async hivosok eredmenyenek feldolgozasa
    asyncCall('call', function (result1) {
      console.log(result1);

      // ez elozo async hivas eredemneyt dolgozza fel
      asyncCall(result1, function (result2) {
        
        console.log(result2);
        
        // a megeloz async hivas eredemenzt dolgozza fel
        asyncCall(result2, function (result3) {
          console.log(result3); 
        });
      });

      // let result2 = asyncCall(result1) // mindig undefined nem mukodik mivel az async return nem mukodik

    })

    // szinkron
   /*  function call(param) {
          return `${param} eredmenye`;
        }

        console.log(call(call(call('sync call'))));

        let result1 = call('sync call');
        let result2 = call(result1);
        let result3 = call(result2); 
        console.log(result3)
    */

    // nem mukodik mert nem sync

    /* let result = asyncCall('wrong call', function (result1) {
        console.log('async result', result1)
        return result1;
    })

    console.log('sync result', result) */
    
  </script>
</head>
<body>
  
</body>
</html>